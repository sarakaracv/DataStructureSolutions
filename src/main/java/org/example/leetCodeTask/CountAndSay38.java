package org.example.leetCodeTask;

import java.util.*;

import static java.util.stream.Collectors.joining;

public class CountAndSay38 {
    public static void main(String[] args) {

    }
    public String countAndSay1(int n) {
        String s = "1";
        while(n>1){
            s = counting(s);
            n--;
        }
        return s;
    }
    public String counting(String s){
        StringBuilder sb = new StringBuilder();
        int count = 1;
        for(int i = 0; i<s.length(); i++){
            while(i<s.length()-1 && s.charAt(i) == s.charAt(i+1)){
                count++;
                i++;}
            sb.append(count);
            sb.append(s.charAt(i));
            count = 1;
        }
        return sb.toString();
    }
    public String countAndSay2(int n) {
        return new String[]{"1", "11", "21", "1211", "111221", "312211", "13112221", "1113213211", "31131211131221", "13211311123113112211", "11131221133112132113212221", "3113112221232112111312211312113211", "1321132132111213122112311311222113111221131221", "11131221131211131231121113112221121321132132211331222113112211", "311311222113111231131112132112311321322112111312211312111322212311322113212221", "132113213221133112132113311211131221121321131211132221123113112221131112311332111213211322211312113211", "11131221131211132221232112111312212321123113112221121113122113111231133221121321132132211331121321231231121113122113322113111221131221", "31131122211311123113321112131221123113112211121312211213211321322112311311222113311213212322211211131221131211132221232112111312111213111213211231131122212322211331222113112211", "1321132132211331121321231231121113112221121321132122311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112311332111213122112311311123112111331121113122112132113213211121332212311322113212221", "11131221131211132221232112111312111213111213211231132132211211131221131211221321123113213221123113112221131112311332211211131221131211132211121312211231131112311211232221121321132132211331121321231231121113112221121321133112132112312321123113112221121113122113121113123112112322111213211322211312113211", "311311222113111231133211121312211231131112311211133112111312211213211312111322211231131122211311122122111312211213211312111322211213211321322113311213212322211231131122211311123113223112111311222112132113311213211221121332211211131221131211132221232112111312111213111213211231132132211211131221232112111312211213111213122112132113213221123113112221131112311311121321122112132231121113122113322113111221131221", "132113213221133112132123123112111311222112132113311213211231232112311311222112111312211311123113322112132113213221133122112231131122211211131221131112311332211211131221131211132221232112111312111213322112132113213221133112132113221321123113213221121113122123211211131221222112112322211231131122211311123113321112131221123113111231121113311211131221121321131211132221123113112211121312211231131122211211133112111311222112111312211312111322211213211321322113311213211331121113122122211211132213211231131122212322211331222113112211", "111312211312111322212321121113121112131112132112311321322112111312212321121113122112131112131221121321132132211231131122211331121321232221121113122113121113222123112221221321132132211231131122211331121321232221123113112221131112311332111213122112311311123112112322211211131221131211132221232112111312211322111312211213211312111322211231131122111213122112311311221132211221121332211213211321322113311213212312311211131122211213211331121321123123211231131122211211131221131112311332211213211321223112111311222112132113213221123123211231132132211231131122211311123113322112111312211312111322212321121113122123211231131122113221123113221113122112132113213211121332212311322113212221", "3113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112311332111213213211221113122113121113222112132113213221232112111312111213322112132113213221133112132123123112111311222112132113311213211221121332211231131122211311123113321112131221123113112221132231131122211211131221131112311332211213211321223112111311222112132113212221132221222112112322211211131221131211132221232112111312111213111213211231132132211211131221232112111312211213111213122112132113213221123113112221133112132123222112111312211312112213211231132132211211131221131211132221121311121312211213211312111322211213211321322113311213212322211231131122211311123113321112131221123113112211121312211213211321222113222112132113223113112221121113122113121113123112112322111213211322211312113211", "132113213221133112132123123112111311222112132113311213211231232112311311222112111312211311123113322112132113212231121113112221121321132132211231232112311321322112311311222113111231133221121113122113121113221112131221123113111231121123222112132113213221133112132123123112111312111312212231131122211311123113322112111312211312111322111213122112311311123112112322211211131221131211132221232112111312111213111213211231132132211211131221232112111312212221121123222112132113213221133112132123123112111311222112132113213221132213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121132211332113221122112133221123113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112212211131221121321131211132221123113112221131112311332211211133112111311222112111312211311123113322112111312211312111322212321121113121112133221121321132132211331121321231231121113112221121321132122311211131122211211131221131211322113322112111312211322132113213221123113112221131112311311121321122112132231121113122113322113111221131221", "1113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123211211131211121311121321123113111231131122112213211321322113311213212322211231131122211311123113223112111311222112132113311213211221121332211231131122211311123113321112131221123113111231121113311211131221121321131211132221123113112211121312211231131122113221122112133221121113122113121113222123211211131211121311121321123113213221121113122113121113222113221113122113121113222112132113213221232112111312111213322112311311222113111221221113122112132113121113222112311311222113111221132221231221132221222112112322211213211321322113311213212312311211131122211213211331121321123123211231131122211211131221131112311332211213211321223112111311222112132113213221123123211231132132211231131122211311123113322112111312211312111322111213122112311311123112112322211213211321322113312211223113112221121113122113111231133221121321132132211331121321232221123123211231132132211231131122211331121321232221123113112221131112311332111213122112311311123112112322211211131221131211132221232112111312111213111213211231132132211211131221131211221321123113213221123113112221131112211322212322211231131122211322111312211312111322211213211321322113311213211331121113122122211211132213211231131122212322211331222113112211", "31131122211311123113321112131221123113111231121113311211131221121321131211132221123113112211121312211231131122211211133112111311222112111312211312111322211213211321322123211211131211121332211231131122211311122122111312211213211312111322211231131122211311123113322112111331121113112221121113122113111231133221121113122113121113222123211211131211121332211213211321322113311213211322132112311321322112111312212321121113122122211211232221123113112221131112311332111213122112311311123112111331121113122112132113311213211321222122111312211312111322212321121113121112133221121321132132211331121321132213211231132132211211131221232112111312212221121123222112132113213221133112132123123112111311222112132113311213211231232112311311222112111312211311123113322112132113212231121113112221121321132122211322212221121123222112311311222113111231133211121312211231131112311211133112111312211213211312111322211231131122211311123113322113223113112221131112311332211211131221131211132211121312211231131112311211232221121321132132211331221122311311222112111312211311123113322112132113213221133122211332111213112221133211322112211213322112111312211312111322212321121113121112131112132112311321322112111312212321121113122112131112131221121321132132211231131122211331121321232221121113122113121122132112311321322112111312211312111322211213111213122112132113121113222112132113213221133112132123222112311311222113111231132231121113112221121321133112132112211213322112111312211312111322212311222122132113213221123113112221133112132123222112111312211312111322212321121113121112133221121311121312211213211312111322211213211321322123211211131211121332211213211321322113311213212312311211131122211213211331121321122112133221123113112221131112311332111213122112311311123112111331121113122112132113121113222112311311222113111221221113122112132113121113222112132113213221133122211332111213322112132113213221132231131122211311123113322112111312211312111322212321121113122123211231131122113221123113221113122112132113213211121332212311322113212221", "13211321322113311213212312311211131122211213211331121321123123211231131122211211131221131112311332211213211321223112111311222112132113213221123123211231132132211231131122211311123113322112111312211312111322111213122112311311123112112322211213211321322113312211223113112221121113122113111231133221121321132132211331121321232221123123211231132132211231131122211331121321232221123113112221131112311332111213122112311311123112112322211211131221131211132221232112111312211322111312211213211312111322211231131122111213122112311311221132211221121332211213211321322113311213212312311211131122211213211331121321123123211231131122211211131221232112111312211312113211223113112221131112311332111213122112311311123112112322211211131221131211132221232112111312211322111312211213211312111322211231131122111213122112311311221132211221121332211211131221131211132221232112111312111213111213211231132132211211131221232112111312211213111213122112132113213221123113112221133112132123222112111312211312112213211231132132211211131221131211322113321132211221121332211213211321322113311213212312311211131122211213211331121321123123211231131122211211131221131112311332211213211321322113311213212322211322132113213221133112132123222112311311222113111231132231121113112221121321133112132112211213322112111312211312111322212311222122132113213221123113112221133112132123222112111312211312111322212311322123123112111321322123122113222122211211232221123113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112212211131221121321131211132221123113112221131112311332211211133112111311222112111312211311123113322112111312211312111322212321121113121112133221121321132132211331121321132213211231132132211211131221232112111312212221121123222112311311222113111231133211121321321122111312211312111322211213211321322123211211131211121332211231131122211311123113321112131221123113111231121123222112111331121113112221121113122113111231133221121113122113121113221112131221123113111231121123222112111312211312111322212321121113121112131112132112311321322112111312212321121113122122211211232221121321132132211331121321231231121113112221121321133112132112312321123113112221121113122113111231133221121321132132211331221122311311222112111312211311123113322112111312211312111322212311322123123112112322211211131221131211132221132213211321322113311213212322211231131122211311123113321112131221123113112211121312211213211321222113222112132113223113112221121113122113121113123112112322111213211322211312113211","11131221131211132221232112111312111213111213211231132132211211131221232112111312211213111213122112132113213221123113112221133112132123222112111312211312112213211231132132211211131221131211132221121311121312211213211312111322211213211321322113311213212322211231131122211311123113223112111311222112132113311213211221121332211211131221131211132221231122212213211321322112311311222113311213212322211211131221131211132221232112111312111213322112131112131221121321131211132221121321132132212321121113121112133221121321132132211331121321231231121113112221121321133112132112211213322112311311222113111231133211121312211231131122211322311311222112111312211311123113322112132113212231121113112221121321132122211322212221121123222112111312211312111322212321121113121112131112132112311321322112111312212321121113122112131112131221121321132132211231131122111213122112311311222113111221131221221321132132211331121321231231121113112221121321133112132112211213322112311311222113111231133211121312211231131122211322311311222112111312211311123113322112132113212231121113112221121321132122211322212221121123222112311311222113111231133211121312211231131112311211133112111312211213211312111322211231131122111213122112311311222112111331121113112221121113122113121113222112132113213221232112111312111213322112311311222113111221221113122112132113121113222112311311222113111221132221231221132221222112112322211211131221131211132221232112111312111213111213211231132132211211131221232112111312211213111213122112132113213221123113112221133112132123222112111312211312111322212321121113121112133221132211131221131211132221232112111312111213322112132113213221133112132113221321123113213221121113122123211211131221222112112322211231131122211311123113321112132132112211131221131211132221121321132132212321121113121112133221123113112221131112311332111213211322111213111213211231131211132211121311222113321132211221121332211213211321322113311213212312311211131122211213211331121321123123211231131122211211131221131112311332211213211321223112111311222112132113213221123123211231132132211231131122211311123113322112111312211312111322111213122112311311123112112322211213211321322113312211223113112221121113122113111231133221121321132132211331121321232221123123211231132132211231131122211331121321232221123113112221131112311332111213122112311311123112112322211211131221131211132221232112111312211322111312211213211312111322211231131122111213122112311311221132211221121332211213211321322113311213212312311211131211131221223113112221131112311332211211131221131211132211121312211231131112311211232221121321132132211331121321231231121113112221121321133112132112211213322112312321123113213221123113112221133112132123222112311311222113111231132231121113112221121321133112132112211213322112311311222113111231133211121312211231131112311211133112111312211213211312111322211231131122111213122112311311221132211221121332211211131221131211132221232112111312111213111213211231132132211211131221232112111312211213111213122112132113213221123113112221133112132123222112111312211312111322212311222122132113213221123113112221133112132123222112311311222113111231133211121321132211121311121321122112133221123113112221131112311332211322111312211312111322212321121113121112133221121321132132211331121321231231121113112221121321132122311211131122211211131221131211322113322112111312211322132113213221123113112221131112311311121321122112132231121113122113322113111221131221", "3113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112212211131221121321131211132221123113112221131112311332211211133112111311222112111312211311123113322112111312211312111322212321121113121112133221121321132132211331121321132213211231132132211211131221232112111312212221121123222112311311222113111231133211121321321122111312211312111322211213211321322123211211131211121332211231131122211311123113321112131221123113111231121123222112111331121113112221121113122113111231133221121113122113121113221112131221123113111231121123222112111312211312111322212321121113121112131112132112311321322112111312212321121113122122211211232221121321132132211331121321231231121113112221121321132132211322132113213221123113112221133112132123222112111312211312112213211231132132211211131221131211322113321132211221121332211231131122211311123113321112131221123113111231121113311211131221121321131211132221123113112211121312211231131122211211133112111311222112111312211312111322211213211321223112111311222112132113213221133122211311221122111312211312111322212321121113121112131112132112311321322112111312212321121113122122211211232221121321132132211331121321231231121113112221121321132132211322132113213221123113112221133112132123222112111312211312112213211231132132211211131221131211322113321132211221121332211213211321322113311213212312311211131122211213211331121321123123211231131122211211131221131112311332211213211321223112111311222112132113213221123123211231132132211231131122211311123113322112111312211312111322111213122112311311123112112322211213211321322113312211223113112221121113122113111231133221121321132132211331222113321112131122211332113221122112133221123113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112311332111213122112311311123112112322211322311311222113111231133211121312211231131112311211232221121113122113121113222123211211131221132211131221121321131211132221123113112211121312211231131122113221122112133221121321132132211331121321231231121113121113122122311311222113111231133221121113122113121113221112131221123113111231121123222112132113213221133112132123123112111312211322311211133112111312211213211311123113223112111321322123122113222122211211232221121113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123112221221321132132211231131122211331121321232221121113122113121113222123211211131211121332211213111213122112132113121113222112132113213221232112111312111213322112132113213221133112132123123112111311222112132113311213211221121332211231131122211311123113321112131221123113112221132231131122211211131221131112311332211213211321223112111311222112132113212221132221222112112322211211131221131211132221232112111312111213111213211231131112311311221122132113213221133112132123222112311311222113111231132231121113112221121321133112132112211213322112111312211312111322212321121113121112131112132112311321322112111312212321121113122122211211232221121311121312211213211312111322211213211321322123211211131211121332211213211321322113311213211322132112311321322112111312212321121113122122211211232221121321132132211331121321231231121113112221121321133112132112312321123113112221121113122113111231133221121321132122311211131122211213211321222113222122211211232221123113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112311332111213213211221113122113121113222112132113213221232112111312111213322112132113213221133112132123123112111312211322311211133112111312212221121123222112132113213221133112132123222113223113112221131112311332111213122112311311123112112322211211131221131211132221232112111312111213111213211231132132211211131221131211221321123113213221123113112221131112211322212322211231131122211322111312211312111322211213211321322113311213211331121113122122211211132213211231131122212322211331222113112211"}
                [n - 1];
    }
    public String countAndSay3(int n) {
        if(n == 1) {
            return "1";
        }
        String previous_string = countAndSay3(n - 1);
        StringBuilder new_string = new StringBuilder();
        int curr_count = 1;
        char curr_num = '?';
        for(char num : previous_string.toCharArray()) {
            if(num != curr_num) {
                if(curr_num != '?') {
                    new_string.append(Character.forDigit(curr_count, 10)).append(curr_num);
                }
                curr_count = 1;
                curr_num = num;
            }
            else {
                curr_count++;
            }
        }
        new_string.append(Character.forDigit(curr_count, 10)).append(curr_num);
        return new_string.toString();
    }
    public String countAndSay4(int n) {
        if(n==1)
            return "1";
        String s=countAndSay4(n-1);

        int counter=0;
        StringBuffer sb=new StringBuffer();
        for(int i=0;i<s.length();i++)
        {
            counter++;
            if(i==s.length()-1 || s.charAt(i)!=s.charAt(i+1))
            {
                sb.append(counter).append(s.charAt(i));
                counter=0;
            }
        }
        return sb.toString();
    }
    public String countAndSay5(int n) {
        StringBuilder curr=new StringBuilder("1");
        StringBuilder prev;
        int count;
        char say;
        for (int i=1;i<n;i++){
            prev=curr;
            curr=new StringBuilder();
            count=1;
            say=prev.charAt(0);

            for (int j=1,len=prev.length();j<len;j++){
                if (prev.charAt(j)!=say){
                    curr.append(count).append(say);
                    count=1;
                    say=prev.charAt(j);
                }
                else count++;
            }
            curr.append(count).append(say);
        }
        return curr.toString();

    }
    public String countAndSay6(int n) {
        if (n == 0) return "";
        if (n == 1) return "1";
        String ans = "1";
        for (int i = 0; i < n - 1; i++) {
            StringBuilder sb = new StringBuilder();
            int index = 0;
            while (index < ans.length()) {
                char c = ans.charAt(index);
                int count = 1;
                while (index + 1 < ans.length() && ans.charAt(index + 1) == c) {
                    index++;
                    count++;
                }
                sb.append(count);
                sb.append(c);
                index++;
            }
            ans = sb.toString();
        }
        return ans;
    }
    public String countAndSay7(int n) {
        int count = 1;
        StringBuilder prev = new StringBuilder("1");
        for (int i = 1; i < n; i++) {
            StringBuilder curr = new StringBuilder();
            for (int j = 1; j <= prev.length(); j++) {
                if (j != prev.length() && prev.charAt(j) == prev.charAt(j - 1)) count++;
                else {
                    curr.append(count);
                    curr.append(prev.charAt(j - 1));
                    count = 1;
                }
            }
            prev = curr;
        }
        return prev.toString();
    }
    public String countAndSay8(int n) {
        List<Byte> word = Arrays.asList((byte) 1);
        for (int i = 2; i <= n; i++) {
            word = countAndSay(word);
        }
        return asString(word);
    }

    private static List<Byte> countAndSay(List<Byte> previous) {
        List<Byte> result = new ArrayList<>(previous.size() * 2);
        Byte current = previous.get(0);
        byte count = 1;
        for (int i = 1; i < previous.size(); i++) {
            var next = previous.get(i);
            if (next.equals(current)) {
                count += 1;
                continue;
            }
            result.add(count);
            result.add(current);
            current = next;
            count = 1;
        }
        result.add(count);
        result.add(current);
        return result;
    }

    private static String asString(List<Byte> word) {
        return word.stream()
                .map(String::valueOf)
                .collect(joining(""));
    }
    public String countAndSay9(int n) {
        String s ="1";
        for (int j=1; j < n; j++) {
            char prev = ' ';
            int count = 0;
            StringBuilder sb = new StringBuilder();
            for (int i = 0 ; i < s.length(); i++) {
                if (i==0) {
                    prev = s.charAt(i);
                    count = 1;
                    continue;
                }
                if (prev != s.charAt(i)) {
                    sb.append(count);
                    sb.append(prev);
                    prev = s.charAt(i);
                    count = 1;
                } else {
                    count++;
                }
            }
            sb.append(count);
            sb.append(prev);
            s = sb.toString();
        }
        return s;
    }
    public String countAndSay10(int n) {
        if (n == 0) return "";

        Queue<Integer> queue = new LinkedList<>();
        queue.offer(1);
        String result = "";

        for(int i = 1; i < n; i++) {
            int lastIndex = queue.peek();
            int count = 0;
            int size = queue.size();
            while(size != 0) {
                int curt = queue.poll();
                if(curt == lastIndex) count++;
                else {
                    queue.offer(count);
                    count = 1;
                    queue.offer(lastIndex);
                    lastIndex = curt;
                }
                size--;
            }

            queue.offer(count);
            queue.offer(lastIndex);

        }
        while(!queue.isEmpty()) result += queue.poll();
        return result;
    }
    public String countAndSay11(int n) {
        StringBuilder curr=new StringBuilder("1");
        StringBuilder prev;
        int count;
        char say;
        for (int i=1;i<n;i++){
            prev=curr;
            curr=new StringBuilder();
            count=1;
            say=prev.charAt(0);

            for (int j=1,len=prev.length();j<len;j++){
                if (prev.charAt(j)!=say){
                    curr.append(count).append(say);
                    count=1;
                    say=prev.charAt(j);
                }
                else count++;
            }
            curr.append(count).append(say);
        }
        return curr.toString();

    }
    public String countAndSay12(int n) {
        Map<Integer,String> maps = new HashMap<Integer,String>();
        maps.put(1,"1");
        for(int i = 2; i<=n; i++){
            String input = maps.get(i-1);
            String value = process( input.toString() );
            maps.put(i, value);
        }

        // System.out.println( "2 "+process( "1" ));  // 3
        // System.out.println( "3 "+process( "11" ));  // 3
        // System.out.println("4 "+ process( "21" ));  // 4
        //  System.out.println("5 "+ process( "1211" )); // 5

        return maps.get(n);
    }
    public String countAndSay13(int n) {
        if(n == 1){
            return "1";
        }
        String subAns = countAndSay13(n-1);

        return breakAndCreate(subAns);
    }
    public String breakAndCreate(String s){
        int count = 1;
        StringBuilder sb = new StringBuilder();
        for(int i = 1;i < s.length();i++){
            if(s.charAt(i) != s.charAt(i-1)){
                sb.append(count + ""+ s.charAt(i-1));
                count = 0;
            }
            count++;
        }
        sb.append(count +""+ s.charAt(s.length() - 1));
        return sb.toString();
    }

    private String process(String s){
        char[] chs = s.toCharArray();
        int count = 1;
        char ch = chs[0];
        StringBuilder sb = new StringBuilder();
        for(int i=1; i<=chs.length; i++){
            if(i==chs.length){
                sb.append(count+""+ch);
                continue;
            }

            if(chs[i] == ch){
                count ++;
            }else {
                sb.append(count+""+ch);
                count = 1;
                ch = chs[i];
            }
        }

        return sb.toString();
    }
    public static String countAndSay14(int n) {
        if(n==1) return "1";
        if(n==2) return "11";

        String[]arr=new String[n+1];
        arr[1]="1";
        arr[2]="11";

        process(n,arr);
        return arr[n];

    }

    private static String process(int n,String[]arr){
        if(arr[n]!=null) return arr[n];

        String pre=process(n-1,arr);

        int count=1;
        char temp=pre.charAt(0);
        String ans="";

        for (int i=1;i<=pre.length();i++){
            while (i<pre.length() && pre.charAt(i)==temp){
                count++;
                i++;
            }
            ans+=String.valueOf(count);
            ans+=String.valueOf(temp);

            if(i<pre.length()){
                count=1;
                temp=pre.charAt(i);
            }
        }
        arr[n]=ans;
        return ans;
    }
    public String countAndSay15(int n) {
        if (n <= 0) {
            throw new IllegalArgumentException("Invalid Input");
        }

        StringBuilder sb = new StringBuilder().append(1);
        while (--n > 0) {
            StringBuilder next = new StringBuilder();
            char c = sb.charAt(0);
            int count = 1;
            for (int i=1; i<sb.length(); i++) {
                if (sb.charAt(i) == c) {
                    count++;
                } else {
                    next.append(count).append(c);
                    count = 1;
                    c = sb.charAt(i);
                }
            }
            next.append(count).append(c);
            sb = next;
        }

        return sb.toString();
    }
    public String countAndSay16(int n) {
        String s = "1";
        if (n == 1) {
            return s;
        }
        for (int i = 2; i <= n; i++) {
            s = helper(s);
        }
        return s;
    }

    private String helper(String s){
        int count = 1;
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < s.length(); i++) {
            if (i == s.length() - 1) {
                sb.append(count);
                sb.append(s.charAt(i));
            } else if (s.charAt(i) == s.charAt(i + 1)) {
                count++;
            } else {
                sb.append(count);
                sb.append(s.charAt(i));
                count = 1;
            }
        }
        return sb.toString();
    }
    public String countAndSay17(int n) {
        return recurse(n - 1, "1");
    }

    public String recurse(int n, String s) {
        if (n == 0) {
            return s;
        }

        char[] arr = s.toCharArray();
        char prev = arr[0];
        int count = 1;
        StringBuilder sb = new StringBuilder();
        for (int i = 1; i < arr.length; i++) {
            char c = arr[i];
            if (c == prev) {
                count++;
            } else {
                sb.append(count);
                sb.append(prev);
                prev = c;
                count = 1;
            }
        }
        sb.append(count);
        sb.append(prev);
        return recurse(n - 1, sb.toString());
    }
    public String countAndSay18(int n) {
        if(n == 1) return "1";
        StringBuilder sb = new StringBuilder("1");
        int index = 1;
        while(++index <= n) {
            char prev = sb.toString().charAt(0);
            int count = 0;
            StringBuilder newSb = new StringBuilder();
            for(char c : sb.toString().toCharArray()) {
                if(c == prev) {
                    count++;
                } else {
                    newSb.append(count);
                    newSb.append(prev);
                    prev = c;
                    count = 1;
                }
            }
            newSb.append(count);
            newSb.append(prev);
            sb = newSb;
        }

        return sb.toString();
    }
    public String countAndSay19(int n) {
        String prev = "1";
        if(n==1){
            return prev;
        }
        for(int i=2; i<=n; i++){
            StringBuilder sb = new StringBuilder();
            //int p = prev.charAt(0);
            int j = 0;

            while(j<prev.length()){
                int count = 1;
                while(j<prev.length()-1 && prev.charAt(j) == prev.charAt(j+1)){
                    count++;
                    j++;
                }
                sb.append(count);
                sb.append(prev.charAt(j));
                j++;

            }
            prev = sb.toString();
        }
        return prev;
    }
    public String countAndSay20(int n) {

        String s = "1";
        if(n==1) return s;
        for(int i = 2 ; i <= n; i++){
            s = getString(s);
        }
        return s;
    }

    public String getString(String str){

        StringBuilder ans = new StringBuilder();
        char cur = str.charAt(0);
        int cnt = 1;
        for(int i=1; i< str.length(); i++){
            if(cur==str.charAt(i)){
                cnt++;
                continue;
            }
            else{
                ans = ans.append(cnt);
                ans = ans.append(cur);
                cnt = 1;
                cur = str.charAt(i);
            }
        }
        ans = ans.append(cnt);
        ans = ans.append(cur);
        return ans.toString();

    }
    public String countAndSay21(int n) {
        if (n == 1)
            return "1";
        if (n == 2)
            return "11";

        String str = "21";
        for(int i = 4; i <= n; i++){
            String temp = "";
            str += "$";
            int count = 1;
            for(int j = 1; j < str.length(); j++){
                if(str.charAt(j) != str.charAt(j-1)){
                    temp += String.valueOf(count);
                    temp += str.charAt(j-1);
                    count = 1;
                } else {
                    count++;
                }
            }
            str = temp;
        }

        return str;
    }
    public String countAndSay22(int n) {
        String currentString = "1";
        for (int i = 2; i <= n; i++) {
            String nextString = "";
            for (int j = 0, k = 0; j < currentString.length(); j = k) {
                while (k < currentString.length() && currentString.charAt(k) == currentString.charAt(j)) k++;
                nextString += Integer.toString(k - j) + currentString.charAt(j);
            }
            currentString = nextString;
        }

        return currentString;
    }
    public String countAndSay23(int n) {
        Map<String, String> dp = new HashMap<>();
        dp.put("1", "11");

        String s = "1";
        String newS;
        for( int i = 1; i < n; i++ ) {
            newS = "";

            int st = 0;
            int en;
            char[] chars = s.toCharArray();
            while( st < chars.length ) {
                en = st;
                while( en < chars.length - 1 ) {
                    if ( chars[en] == chars[en + 1] ) {
                        en++;
                    } else {
                        break;
                    }
                }

                newS += getString( chars, st, en, dp );
                st = en + 1;
            }

            s = newS;
        }

        return s;
    }

    public String getString( char[] chars, int st, int en, Map<String, String> dp ) {
        int count = en - st + 1;
        String str = new String( chars, st, count );

        if ( dp.containsKey( str ) ) {
            return dp.get( str );
        }

        String answer = "" + count + chars[st];
        dp.put( str, answer );

        return answer;
    }
}
